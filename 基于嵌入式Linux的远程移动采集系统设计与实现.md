#基于嵌入式Linux的远程移动采集系统设计与实现

##前言
随着科技的发展，很多事情不必需要人亲力亲为，可以通过操作智能设备来达到满意的效果。本文描述了一款采集器，通过它可以远程移动采集视频，享受科技进步给生产生活带来的方便。

##关键字
RT5350	OpenWrt	远程视频采集	嵌入式

##硬件部分

###硬件选型

####芯片
芯片选用RT5350。RT5350是Ralink公司2010年左右推出的一款单芯片IEEE 802.11n 1×1 MIMO WLAN SoC，内部集成了基带处理器，射频，射频功率放大器，一颗高性能的MIPS 24Kc CPU内核（最高主频360MHz），一个五端口百兆以太网交换机。基于Ralink RT5350，仅需要很少的外围器件就可以实现低成本2.4GHz 802.11n无线产品。RT5350引入了Ralink的第二代802.11n无线技术，可以提供更大的覆盖范围和更高的无线吞吐量。

####电源
电源采用两个充电宝，各装一个18650型锂电池【注1】，规格约为3.7V/2200mAh。一个给开发板供电，一个给驱动板供电

####驱动电路板
因为主控板IO口输出的电压太小，无法驱动电机，所以需要驱动板来驱动电机，此处驱动板的功能类似于继电器，靠IO口输出的高低电平控制充电宝提供的5V电压进而驱动电机。

电路板选用mini5350开发板，引出了gpio、usb、串口、网口、电源和地接口，极大的方便开发和调试。
####摄像头
小车采用YUV摄像头，因为Linux内核自带了摄像头的驱动，只需编译进固件，后期通过软件来转换成为jpg图像供客户端下载显示。此方案便捷可行。
###硬件设计
单是一个芯片无法完成工作，小车研发者特制了一款RT5350开发板，开发板由底板（外围电路）和RT5350核心板组成，采用此开发板能有效降低成本
(硬件连接介绍)IO口通过杜邦线连接驱动板，。。。。。。

##软件部分

###软件选型

####服务端
服务端是基于OpenWrt系统开发的应用。作为一个发行版系统，OpenWrt有着完善的包管理机制。开发者需要在特定的开发环境中构建后缀名为.ipk的包。需要搭建自己的opkg服务器，修改OpenWrt的配置文件，使其从自己的服务器下载开发好的程序。

####客户端
采用在移动平台应用范围最广的安卓系统

###软件设计

####服务端

#####YUV2Jpeg
采集图片到内存中，使用libjpeg库转换采集图片的格式，创建一个web服务器，当有请求时返回内存中的图片。

#####CarServer
web服务器，接收命令，驱动小车

####服务端与客户端交互协议

		方式。。。。。。






####客户端

#####首页
- 注册登录

		防止自己的小车随便被别人控制
		服务端用户名密码暂时写死，后期可以连接数据库读取数据库。成功返回OK，失败返回error。

- 登陆界面设置WiFi

- 得到本机IP

		取本机IP前三位加.1设置到EditText作为默认的服务器IP，可以更改。

- 点击登陆按钮，以get方式发送，判断返回的字符串是否正常，正确的话携带IP跳转到操作界面。

		服务器端成熟后(能解析http协议后)改成post方式提交。

#####控制界面

- picasso加载图片
- re。。。发送请求？？？怎么发？怎么用？





		定时从网络获取图片并显示
		当按钮按下的时候，发送相应命令，当按钮抬起的时候发送停止命令


##系统测试与集成
先模块编写模块测试，测试无误后再整体组装整体测试。
整体测试就是模拟用户的行为，加上极端环境条件，测试系统的稳定性。

##结果与总结

- 项目的分析过程
- 体验了开发发行版linux系统(OpneWrt)应用的流程
- 在老师基础上修改了部分实现




##致谢

感谢老师给我们提供了这个实训项目，老师在研发的过程中踩过的坑必然不少，经过漫长的时间才得以完善，作为实训项目出现在我们的面前，我们通过老师精心编写的说明文档，我们得以初步了解小车的运行机制。虽然文档只有几十页，操作也不算复杂，但其中隐含的知识点仍然值得我们仔细品味。在此不仅要向辛勤奋战在教学科研一线的王老师致谢，还要致敬。

##参考文献

>RT5350介绍    网页连接
>
>OpenWrt介绍   百度百科连接
>
>小车说明书     iotway.com

